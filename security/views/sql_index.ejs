<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Google</title>
  <meta name="description" content="Sample site">
  <meta name="author" content="phadyniak">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <style>
	#input {
		font-family: 'monospace';
		font-size: 24px;
		height: 50px;
	}
  </style>
</head>

<body>
	<div class='container'>
		<div class='page-header'>
			<h1>Products SQL Database</h1>
		</div>
		<div class='row'>
			<div class='col-md-8'>
				<form action='/sql-search' method='GET'>
					<label>Search:</label>
					<input id='input' type='text' name='q' class='form-control' value='<%= q %>' />
				</form>
				<br/>
				<% if (results.length == 0) { %>
			    <h4>No results</h4>
				<% } else { %>
					<h4>Found <%= results.length %> matches:</h4>
					<table class='table'>
						<tr>
							<th>
								Title
							</th>
							<th>
								Description
							</th>
						</tr>
						<% results.forEach(result => {%>
							<tr>
								<td><%= result.title %></td>
                                <td><%= result.description %></td>
							</tr>
						<% }) %>
					</table>
				<% } %>
				<% if (error) { %>
					<pre><%= error %></pre>
				<% } %>
			</div>
			<div class='col-md-4'>
				<h4>Cheat sheet:</h4>
				<pre>
SELECT ? FROM ? WHERE ? LIKE '%query%'

;--
UNION (SELECT 'X', 'Y')
(SELECT table_name, table_schema
FROM information_schema.tables)
(SELECT column_name, 'Y'
FROM information_schema.columns
</pre>
			</div>
		</div>
	</div>
</body>
</html>
